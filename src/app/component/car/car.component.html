<div
  *ngIf="dataLoaded == false"
  class="spinner-border text-warning"
  role="status"
>
  <span class="visually-hidden">Loading...</span>
</div>
<br />
<div class="row">
  <div class="col-md-12" *ngIf="dataLoaded == true">
    <div class="row">
      <div class="col-md-2">
        <button routerLink="/cars" type="button" class="btn btn-primary mybtn">
          Tüm Araçlar
        </button>
      </div>
      <div class="col-md-3">
        <select
          [(ngModel)]="currentBrandId"
          class="form-select"
          aria-label="Default select example"
        >
          <option [selected]="cleanCurrentBrand()" [value]="undefined">
            --- Bir marka seçiniz ---
          </option>
          <option
            *ngFor="let brand of brands"
            [value]="brand.brandId"
            [selected]="getCurrentBrandId(brand)"
          >
            {{ brand.brandName }}
          </option>
        </select>
      </div>
      <div class="col-md-2">
        <button
          [routerLink]="setRouterLink()"
          type="button"
          class="btn btn-primary mybtn"
        >
          Filtrele
        </button>
      </div>
      <div class="col-md-3">
        <select
          [(ngModel)]="currentColorId"
          class="form-select"
          aria-label="Default select example"
        >
          <option [selected]="cleanCurrentColor()" [value]="undefined">
            --- Bir renk seçiniz ---
          </option>
          <option
            *ngFor="let color of colors"
            [value]="color.colorId"
            [selected]="getCurrentColorId(color)"
          >
            {{ color.colorName }}
          </option>
        </select>
      </div>
      <div class="col-md-2">
        <button
          [routerLink]="setRouterLink()"
          type="button"
          class="btn btn-primary mybtn"
        >
          Filtrele
        </button>
      </div>
    </div>
  </div>
</div>
<div class="row">
  <div class="col-md-12">
    <br />

    <div class="card card-plain" *ngIf="dataLoaded == true">
      <div class="card-header card-header-danger">
        <h4 class="card-title mt-0 style my-text">Arabalar</h4>
        <p class="card-category">
          <b>Resimleri Görmek</b> ve <b>Aracı Kiralamak</b> İçin Detay Sayfasına
          Gidiniz.
        </p>
      </div>
      <div class="mb-3">
        <input
          type="text"
          [(ngModel)]="filterText"
          class="form-control"
          id="filterText"
          placeholder="Araç Ara"
        />
      </div>

      <div class="card-body">
        <div class="table-responsive">
          <table class="table table-hover" style="text-align: center">
            <thead class="">
              <th>Id</th>
              <th>Marka</th>
              <th>Renk</th>
              <th>Model Yılı</th>
              <th>Günlük Kira</th>
              <th>KDV'li Fiyat</th>
              <th>Araç Modeli</th>
              <th>Gereken Findex Puanı</th>
              <th></th>
            </thead>
            <tbody>
              <tr
                *ngFor="let car of cars | filterPipe: filterText"
                style="text-align: center"
              >
                <td>{{ car.carId }}</td>
                <td>{{ car.brandName }}</td>
                <td>{{ car.colorName }}</td>
                <td>{{ car.modelYear }}</td>
                <td>₺{{ car.dailyPrice }}</td>
                <td>₺{{ car.dailyPrice | vatAdded: 18 }}</td>
                <td>{{ car.description }}</td>
                <td>{{ car.minFindex }}</td>
                <td>
                  <button
                    routerLink="/cars/cardetail/{{ car.carId }}"
                    type="button"
                    class="btn btn-warning"
                  >
                    Detaylar
                  </button>
                </td>
              </tr>
            </tbody>
          </table>
        </div>
      </div>
    </div>
  </div>
</div>
